meta {
  name: Vote
  type: http
  seq: 9
}

post {
  url: https://k51qryqov3.execute-api.ap-southeast-2.amazonaws.com/prod/models/ckl2phsabijs71623vk0%7Cckl2phsabijs71623vqg/vote
  body: json
  auth: inherit
}

body:json {
  {
    "comment": "{{randomName}}"
  }
}

script:pre-request {
  
  function randomString(length) {
    const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";
    let result = "";
    for (let i = 0; i < length; i++) {
      result += chars.charAt(Math.floor(Math.random() * chars.length));
    }
    return result;
  }
  
  bru.setVar("randomName", randomString(10));
  
}

settings {
  encodeUrl: true
}
